# Cocktail Sort - カクテルソート

## 概要
カクテルソート（双方向バブルソート）は、バブルソートの改良版です。左から右へ、そして右から左へと交互にスキャンすることで、一部のケースでバブルソートより効率的になります。

## アルゴリズムの動き
```
[3, 22, 19, 5] の場合

→方向（左から右）:
  22と19比較 → [3, 19, 22, 5]
  22と5比較  → [3, 19, 5, 22]  ← 最大値が右端に確定

←方向（右から左）:
  19と5比較  → [3, 5, 19, 22]
  5と3比較   → [3, 5, 19, 22]  ← 最小値が左端に確定

交換がなければ完了
```

両端から同時に確定していくため、バブルソートより効率的な場合があります。

## コードの解説

### 初期化（main.cpp:9-11）
```cpp
size_t start{0};          // 左端の位置
size_t end = nums.size() - 1;  // 右端の位置
bool swapped = true;      // 交換が発生したかのフラグ
```

### 右方向スキャン（main.cpp:17-24）
```cpp
for (size_t i{start}; i < end; ++i)
{
    if (nums[i] > nums[i + 1])
    {
        swap(nums[i], nums[i + 1]);  // 大きい値を右へ
        swapped = true;
    }
}
```
- 左から右へスキャン
- 大きい値を右へ移動
- 最大値が右端に配置される

### 早期終了チェック（main.cpp:26-27）
```cpp
if (!swapped)
    break;  // 交換がなければソート完了
```

### 左方向スキャン（main.cpp:29-39）
```cpp
--end;  // 右端は確定したので範囲を縮める
swapped = false;

for (size_t i{end}; i > start; --i)
{
    if (nums[i - 1] > nums[i])
    {
        swap(nums[i - 1], nums[i]);  // 小さい値を左へ
        swapped = true;
    }
}

++start;  // 左端は確定したので範囲を縮める
```
- 右から左へスキャン
- 小さい値を左へ移動
- 最小値が左端に配置される

## 計算量
- **時間計算量**:
  - 最良: O(n)（既にソート済み、早期終了）
  - 平均: O(n²)
  - 最悪: O(n²)
- **空間計算量**: O(1)

## 特徴
- **双方向**: 両端から同時に確定
- **早期終了**: 交換がなければすぐに終了
- **安定ソート**: 同じ値の順序が保たれる

## バブルソートとの比較
- **利点**: タートル（小さい値が右端にある場合）の処理が速い
- **欠点**: コードがやや複雑

### 例：タートルのケース
```
[2, 3, 4, 5, 1]  ← 1が右端にある

バブルソート: 4パス必要
カクテルソート: 1パスで完了（逆方向スキャンで1を左へ）
```

## 使いどころ
- アルゴリズムの学習
- ほぼソート済みのデータ（特に端に外れ値がある場合）
- 実用には向かない（より高速なアルゴリズムを使うべき）
